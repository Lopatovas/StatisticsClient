(this["webpackJsonpstatistics-client"]=this["webpackJsonpstatistics-client"]||[]).push([[0],{156:function(e,t,a){e.exports=a(268)},161:function(e,t,a){},162:function(e,t,a){},268:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(139),o=a.n(c),l=(a(161),a(162),a(149)),i=a(35),s=a(152),u=a(68),m=a(69),d=a(77),p=a(70),h=a(45),E=a(78);var f=function(e){var t=e.changeHandler;return r.a.createElement("div",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group input-group-alternative mb-4"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"ni ni-zoom-split-in"}))),r.a.createElement("input",{className:"form-control form-control-alternative",placeholder:"Search",type:"text",onChange:function(e){t(e)}}))))};var v=function(e){var t=e.items,a=e.clickCallback,n=e.productCallback,c=e.renderAction;return r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",{className:"thead-light"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Category"),r.a.createElement("th",{scope:"col"},"Price"),r.a.createElement("th",{scope:"col"},"Action"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id,onClick:function(){n(e)}},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.type),r.a.createElement("td",null,e.price),c?r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-default btn-sm",onClick:function(t){t.stopPropagation(),a(e)}},"Compare")):r.a.createElement("td",null))})))))};var y=function(e){var t=e.items;return r.a.createElement("div",null,r.a.createElement("ul",{className:"list-group list-group-flush"},t.map((function(e,t){return r.a.createElement("li",{className:"list-group-item list-group-item-action",key:t},"object"===typeof e?e.name:e," ")}))))},g=a(153),b={MAIN_ENDPOINT:"http://127.0.0.1:8000",PRODUCTS:"/products",CATEGORIES:"/categories",PAGINATION:"/pagination",CATEGORY:"/category",LAST_WEEK_STAT:"/getLastWeekSales",LAST_YEAR_STAT:"/getLastYearSales",PREDICTIONS:"/getPredictions",LINEAR_REGRESION:"/getLinearRegression"},C={apiCall:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{method:"GET"};return new Promise((function(a,n){var r=Object(g.a)({},t);fetch("".concat(b.MAIN_ENDPOINT).concat(e),r).then((function(e){try{a(e.json())}catch(t){n(t)}})).catch((function(e){return n(e)}))}))},CONFIG:b},N=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={categories:[],products:[],compareList:[],querried:[]},a.filterItems=a.filterItems.bind(Object(h.a)(a)),a.addToCompare=a.addToCompare.bind(Object(h.a)(a)),a.navigateToProduct=a.navigateToProduct.bind(Object(h.a)(a)),a}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getCategories(),this.getProducts()}},{key:"getCategories",value:function(){var e=this;C.apiCall(C.CONFIG.CATEGORIES,{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(t){e.setState({categories:t.categories})}))}},{key:"getProducts",value:function(){var e=this;C.apiCall(C.CONFIG.PRODUCTS,{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(t){e.setState({products:t.products,querried:t.products})}))}},{key:"filterItems",value:function(e){var t=e.target.value,a=this.state.products.filter((function(e){if(e.name.toLowerCase().includes(t.toLowerCase()))return e}));this.setState({querried:a})}},{key:"addToCompare",value:function(e){this.setState({compareList:[].concat(Object(s.a)(this.state.compareList),[e]),querried:this.state.querried.filter((function(t){return t.id!==e.id}))})}},{key:"navigateToProduct",value:function(e){this.props.history.push("/StatisticsClient/Product/".concat(e.id))}},{key:"render",value:function(){var e=this,t=this.state,a=t.categories,n=t.querried,c=t.compareList,o=t.products;return r.a.createElement("div",{className:"container pt-5"},r.a.createElement(f,{changeHandler:this.filterItems}),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"space-between"}},r.a.createElement("div",{className:"card shadow rounded",style:{flex:1,marginRight:50,height:"80vh"}},r.a.createElement("h2",{className:"pt-4 pl-4"},"Categories"),r.a.createElement("div",{style:{height:"78vh",overflow:"overlay"}},r.a.createElement(y,{items:a}))),r.a.createElement("div",{className:"card shadow rounded",style:{flex:4}},r.a.createElement("h2",{className:"pt-4 pl-4"},"Products"),r.a.createElement("div",{className:"pl-4 pr-4",style:{height:"70vh",overflow:"overlay"}},r.a.createElement(v,{items:n,productCallback:function(t){e.navigateToProduct(t)},clickCallback:function(t){e.addToCompare(t)},renderAction:c.length<2}))),r.a.createElement("div",{className:"card shadow rounded",style:{flex:1,marginLeft:50,height:"80vh"}},r.a.createElement("h2",{className:"pt-4 pl-4"},"Comparable products"),r.a.createElement("div",{style:{height:"70vh",overflow:"overlay"}},r.a.createElement(y,{items:c})),r.a.createElement("button",{type:"button",className:"btn btn-default w-75 mr-4 ml-4 mb-2 mt-2"},"Compare"),r.a.createElement("button",{type:"button",className:"btn btn-default w-75 mr-4 ml-4 mb-2",onClick:function(){e.setState({compareList:[],querried:o})}},"Clear"))))}}]),t}(n.Component),T=a(276),k=a(274);function S(e){var t=e.data,a=e.animation,n=e.style;return r.a.createElement(T.a,null,r.a.createElement(k.a,{style:n,animate:a,data:t,x:t.days?t.days:t.x,y:t.sales?t.sales:t.y}))}S.defaultProps={data:[{x:1,y:2},{x:2,y:3},{x:3,y:5},{x:4,y:4},{x:5,y:7}],animation:{duration:2e3,onLoad:{duration:1e3}},style:{data:{stroke:"#c43a31"},parent:{border:"1px solid #ccc"}}};var O=S,w=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={product:{},weekStats:{days:[],sales:[]}},a}return Object(E.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getLastWeekStats()}},{key:"getProduct",value:function(){var e=this;C.apiCall(C.CONFIG.PRODUCTS,{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(t){e.setState({products:t.products,querried:t.products})}))}},{key:"getLastWeekStats",value:function(){var e=this;C.apiCall("".concat(C.CONFIG.LAST_WEEK_STAT,"/2"),{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"GET"}).then((function(t){e.setState({weekStats:t})}))}},{key:"render",value:function(){var e=this.state,t=e.product,a=e.weekStats;return console.log(this.state),r.a.createElement("div",{className:"container pt-5"},r.a.createElement("div",{className:"card shadow rounded p-4"},r.a.createElement("h1",{style:{borderBottom:"2px solid #E7E7F5"}},t.name),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:{flex:1,borderRight:"2px solid #E7E7F5",borderBottom:"2px solid #E7E7F5"}},r.a.createElement("h5",{style:{paddingLeft:20}},"Statistics for last year"),r.a.createElement(O,{data:a})),r.a.createElement("div",{style:{flex:1,borderBottom:"2px solid #E7E7F5"}},r.a.createElement("h5",{style:{paddingLeft:20}},"Statistics for last week"),r.a.createElement(O,null)))))}}]),t}(n.Component);var j=function(){return r.a.createElement(l.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/StatisticsClient/",component:N}),r.a.createElement(i.a,{exact:!0,path:"/StatisticsClient/Product/:id",component:w})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[156,1,2]]]);
//# sourceMappingURL=main.67e03b42.chunk.js.map